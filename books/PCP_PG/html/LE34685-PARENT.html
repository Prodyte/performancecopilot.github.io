<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns:d="http://docbook.org/ns/docbook">3.8.5. PMAPI Timezone Services</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.2" /><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content="PCP-pcp-programmers-guide-3-en-US-4.0-4" /><link rel="home" href="index.html" title="Performance Co-Pilot™ Programmer's Guide" /><link rel="up" href="id5199561.html" title="3.8. PMAPI Procedural Interface" /><link rel="prev" href="id5205074.html" title="3.8.4.10.  pmGetContextHostName Function" /><link rel="next" href="id5205286.html" title="3.8.5.2.  pmNewZone Function" /></head><body><p id="title"><a class="left" href="https://fedorahosted.org/publican"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="https://fedorahosted.org/publican"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="id5205074.html"><strong>Prev</strong></a></li><li class="home">pcp-programmers-guide</li><li class="next"><a accesskey="n" href="id5205286.html"><strong>Next</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="LE34685-PARENT">
      ⁠</a>3.8.5. PMAPI Timezone Services</h3></div></div></div><div class="para">
					The functions described in this section provide Performance Metrics Application Programming Interface (PMAPI) timezone services.
				</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="id5205140">
      ⁠</a>3.8.5.1.  <code class="command">pmNewContextZone</code> Function</h4></div></div></div><pre class="literallayout">int pmNewContextZone(void)
<code class="command">Python:</code>
pmNewContextZone()
</pre><div class="para">
						<a id="IG31340177377" class="indexterm"></a> <a id="IG31340177378" class="indexterm"></a> <a id="IG31340177379" class="indexterm"></a>If the current PMAPI context is an archive, the <code class="command">pmNewContextZone</code> function uses the timezone from the archive label record in the first archive of the set to set the current reporting timezone. The current reporting timezone affects the timezone used by <code class="command">pmCtime</code> and <code class="command">pmLocaltime</code>.
					</div><div class="para">
						If the current PMAPI context corresponds to a host source of metrics, <code class="command">pmNewContextZone</code> executes a <code class="command">pmFetch</code> to retrieve the value for the metric <code class="literal">pmcd.timezone</code> and uses that to set the current reporting timezone.
					</div><div class="para">
						In both cases, the function returns a value to identify the current reporting timezone that may be used in a subsequent call to <code class="command">pmUseZone</code> to restore this reporting timezone.
					</div><div class="para">
						<code class="literal">PM_ERR_NOCONTEXT</code> indicates the current PMAPI context is not valid. A return value less than zero indicates a fatal error from a system call, most likely <code class="command">malloc</code>.
					</div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="id5205074.html"><strong>Prev</strong>3.8.4.10.  pmGetContextHostName Function</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="id5205286.html"><strong>Next</strong>3.8.5.2.  pmNewZone Function</a></li></ul></body></html>