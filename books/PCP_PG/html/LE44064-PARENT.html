<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns:d="http://docbook.org/ns/docbook">3.8.11. PMAPI Ancillary Support Services</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.2" /><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content="PCP-pcp-programmers-guide-3-en-US-4.0-4" /><link rel="home" href="index.html" title="Performance Co-Pilot™ Programmer's Guide" /><link rel="up" href="id5199561.html" title="3.8. PMAPI Procedural Interface" /><link rel="prev" href="LE73955-PARENT.html" title="3.8.10. PMAPI Time Control Services" /><link rel="next" href="id5209050.html" title="3.8.11.2.  pmErrStr Function" /></head><body><p id="title"><a class="left" href="https://fedorahosted.org/publican"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="https://fedorahosted.org/publican"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="LE73955-PARENT.html"><strong>Prev</strong></a></li><li class="home">pcp-programmers-guide</li><li class="next"><a accesskey="n" href="id5209050.html"><strong>Next</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="LE44064-PARENT">
      ⁠</a>3.8.11. PMAPI Ancillary Support Services</h3></div></div></div><div class="para">
					<a id="IG31340177417" class="indexterm"></a> <a id="IG31340177418" class="indexterm"></a>The functions described in this section provide services that are complementary to, but not necessarily a part of, the distributed manipulation of performance metrics delivered by the PCP components.
				</div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="id5208965">
      ⁠</a>3.8.11.1.  <code class="command">pmGetConfig</code> Function</h4></div></div></div><pre class="literallayout">char *pmGetConfig(const char <em class="replaceable">*variable</em>)
<code class="command">Python:</code>
"env variable value = pmGetConfig("env variable")</pre><div class="para">
						The <code class="command">pmGetConfig</code> function searches for a variable first in the environment and then, if one is not found, in the PCP configuration file and returns the string result. If a variable is not already in the environment, it is added with a call to the <code class="command">putenv</code> function before returning.
					</div><div class="para">
						The default location of the PCP configuration file is <code class="filename">/etc/pcp.conf</code>, but this location may be changed by setting <code class="literal">PCP_CONF</code> in the environment to a new location, as described in the <code class="command">pcp.conf(5)</code> man page.
					</div><div class="para">
						If the variable is not found in either the environment or the PCP configuration file (or the PCP configuration file is not found and <code class="literal">PCP_CONF</code> is not set in the environment), then a fatal error message is printed and the process will exit. Although this sounds drastic, it is the only course of action available because the PCP configuration or installation is fatally flawed.
					</div><div class="para">
						If this function returns, the returned value points to a string in the environment; and so although the function returns the same type as the <code class="command">getenv</code> function (which should probably be a <code class="literal">const char *</code>), changing the content of the string is not recommended.
					</div><div class="para">
						The python bindings return a value for environment variable <em class="replaceable">"env variable"</em> from environment or pcp config file.
					</div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="LE73955-PARENT.html"><strong>Prev</strong>3.8.10. PMAPI Time Control Services</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="id5209050.html"><strong>Next</strong>3.8.11.2.  pmErrStr Function</a></li></ul></body></html>