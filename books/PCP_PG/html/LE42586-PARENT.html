<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns:d="http://docbook.org/ns/docbook">4.6.2.2. Rolling-Window Periodic Sampling</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.2" /><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content="PCP-pcp-programmers-guide-3-en-US-4.0-4" /><link rel="home" href="index.html" title="Performance Co-Pilot™ Programmer's Guide" /><link rel="up" href="id5213449.html" title="4.6.2. Sampling Techniques" /><link rel="prev" href="id5213449.html" title="4.6.2. Sampling Techniques" /><link rel="next" href="id5213803.html" title="4.6.2.3. Rolling-Window Periodic Sampling Example" /></head><body><p id="title"><a class="left" href="https://fedorahosted.org/publican"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="https://fedorahosted.org/publican"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="id5213449.html"><strong>Prev</strong></a></li><li class="home">pcp-programmers-guide</li><li class="next"><a accesskey="n" href="id5213803.html"><strong>Next</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="LE42586-PARENT">
      ⁠</a>4.6.2.2. Rolling-Window Periodic Sampling</h4></div></div></div><div class="para">
						<a id="IG31340177488" class="indexterm"></a>In contrast to simple periodic sampling with its single historical buffer, the rolling-window periodic sampling technique maintains a number of separate buffers. One buffer is marked as the current working buffer, and the remainder of the buffers hold historical data. As each event occurs, the current working buffer is updated to reflect it.
					</div><div class="para">
						At a specified interval, the current working buffer and the accumulated data that it holds is moved into the set of historical buffers, and a new working buffer is used. The specified interval is a function of the number of historical buffers maintained.
					</div><div class="para">
						The primary advantage of the rolling-window sampling technique is seen at the point where data is actually exported. At this point, the data has a higher probability of reflecting a more recent sampling period than the data exported using simple periodic sampling.
					</div><div class="para">
						<a id="IG31340177489" class="indexterm"></a>The data collected over each sample duration and exported using the rolling-window sampling technique provides a more up-to-date representation of the activity during the most recently completed sample duration than simple periodic sampling as shown in <a class="xref" href="LE42586-PARENT.html#id5213739">Figure 4.4, “Sample Duration Comparison”</a>.
					</div><div class="para">
						<div class="figure"><a id="id5213739">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><object data="images/trace-sampling.svg" type="image/svg+xml"><img src="images/trace-sampling.png" alt="Sample Duration Comparison" /></object></div></div><p class="title"><strong>Figure 4.4. Sample Duration Comparison</strong></p></div>

					</div><div class="para">
						<a id="IG31340177490" class="indexterm"></a>The trace PMDA allows the length of the sample duration to be configured, as well as the number of historical buffers that are maintained. The rolling-window approach is implemented in the trace PMDA as a ring buffer (see <a class="xref" href="id5213287.html#id5213335">Figure 4.3, “Trace PMDA Overview”</a>).
					</div><div class="para">
						<a id="IG31340177491" class="indexterm"></a> <a id="IG31340177492" class="indexterm"></a>When the current working buffer is moved into the set of historical buffers, the least recent historical buffer is cleared of data and becomes the new working buffer.
					</div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="id5213449.html"><strong>Prev</strong>4.6.2. Sampling Techniques</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="id5213803.html"><strong>Next</strong>4.6.2.3. Rolling-Window Periodic Sampling Example</a></li></ul></body></html>