<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns:d="http://docbook.org/ns/docbook">3.8.9.2.  pmGetArchiveEnd Function</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.2" /><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content="PCP-pcp-programmers-guide-3-en-US-4.0-4" /><link rel="home" href="index.html" title="Performance Co-Pilot™ Programmer's Guide" /><link rel="up" href="LE85604-PARENT.html" title="3.8.9. PMAPI Archive-Specific Services" /><link rel="prev" href="LE85604-PARENT.html" title="3.8.9. PMAPI Archive-Specific Services" /><link rel="next" href="id5207751.html" title="3.8.9.3.  pmGetInDomArchive Function" /></head><body><p id="title"><a class="left" href="https://fedorahosted.org/publican"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="https://fedorahosted.org/publican"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="LE85604-PARENT.html"><strong>Prev</strong></a></li><li class="home">pcp-programmers-guide</li><li class="next"><a accesskey="n" href="id5207751.html"><strong>Next</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="id5207673">
      ⁠</a>3.8.9.2.  <code class="command">pmGetArchiveEnd</code> Function</h4></div></div></div><pre class="programlisting">int pmGetArchiveEnd(struct timeval *<em class="replaceable">tvp</em>)
<code class="command">Python:</code>
timeval <em class="replaceable">tv</em> = <em class="replaceable">status</em> = pmGetArchiveEnd()</pre><div class="para">
						<a id="IG31340177402" class="indexterm"></a> <a id="IG31340177403" class="indexterm"></a> <a id="IG31340177404" class="indexterm"></a>Provided the current PMAPI context is associated with a set of PCP archive logs, <code class="command">pmGetArchiveEnd</code> finds the logical end of the last archive file in the set (after the last complete record in the archive), and returns the last recorded time stamp with <em class="replaceable">tvp</em>. This timestamp may be passed to <code class="command">pmSetMode</code> to reliably position the context at the last valid log record, for example, in preparation for subsequent reading in reverse chronological order.
					</div><div class="para">
						For archive logs that are not concurrently being written, the physical end of file and the logical end of file are co-incident. However, if an archive log is being written by <code class="command">pmlogger</code> at the same time that an application is trying to read the archive, the logical end of file may be before the physical end of file due to write buffering that is not aligned with the logical record boundaries.
					</div><div class="para">
						The python bindings get the last recorded timestamp from the archive.
					</div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="LE85604-PARENT.html"><strong>Prev</strong>3.8.9. PMAPI Archive-Specific Services</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="id5207751.html"><strong>Next</strong>3.8.9.3.  pmGetInDomArchive Function</a></li></ul></body></html>