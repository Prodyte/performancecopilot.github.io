<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns:d="http://docbook.org/ns/docbook">4.6.2.3. Rolling-Window Periodic Sampling Example</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.2" /><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content="PCP-pcp-programmers-guide-3-en-US-4.0-4" /><link rel="home" href="index.html" title="Performance Co-Pilot™ Programmer's Guide" /><link rel="up" href="id5213449.html" title="4.6.2. Sampling Techniques" /><link rel="prev" href="LE42586-PARENT.html" title="4.6.2.2. Rolling-Window Periodic Sampling" /><link rel="next" href="id5213903.html" title="4.6.3. Configuring the Trace PMDA" /></head><body><p id="title"><a class="left" href="https://fedorahosted.org/publican"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="https://fedorahosted.org/publican"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="LE42586-PARENT.html"><strong>Prev</strong></a></li><li class="home">pcp-programmers-guide</li><li class="next"><a accesskey="n" href="id5213903.html"><strong>Next</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="id5213803">
      ⁠</a>4.6.2.3. Rolling-Window Periodic Sampling Example</h4></div></div></div><div class="para">
						<a id="IG31340177493" class="indexterm"></a>Consider the scenario where you want to know the rate of transactions over the last 10 seconds. You set the sampling rate for the trace PMDA to 10 seconds and fetch the metric <code class="literal">trace.transact.rate</code>. So if in the last 10 seconds, 8 transactions took place, the transaction rate would be 8/10 or 0.8 transactions per second.
					</div><div class="para">
						The trace PMDA does not actually do this. It instead does its calculations automatically at a subinterval of the sampling interval. Reconsider the 10-second scenario. It has a calculation subinterval of 2 seconds as shown in <a class="xref" href="id5213803.html#id5213848">Figure 4.5, “Sampling Intervals”</a>.
					</div><div class="para">
						<div class="figure"><a id="id5213848">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><object data="images/trace-example.svg" type="image/svg+xml"><img src="images/trace-example.png" alt="Sampling Intervals" /></object></div></div><p class="title"><strong>Figure 4.5. Sampling Intervals</strong></p></div>

					</div><div class="para">
						If at 13.5 seconds, you request the transaction rate, you receive a value of 0.7 transactions per second. In actual fact, the transaction rate was 0.8, but the trace PMDA did its calculations on the sampling interval from 2 seconds to 12 seconds, and not from 3.5 seconds to 13.5 seconds. For efficiency, the trace PMDA calculates the metrics on the last 10 seconds every 2 seconds. As a result, the PMDA is not driven each time a fetch request is received to do a calculation.
					</div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="LE42586-PARENT.html"><strong>Prev</strong>4.6.2.2. Rolling-Window Periodic Sampling</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="id5213903.html"><strong>Next</strong>4.6.3. Configuring the Trace PMDA</a></li></ul></body></html>