<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns:d="http://docbook.org/ns/docbook">3.8.4.9.  pmReconnectContext Function</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.2" /><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content="PCP-pcp-programmers-guide-3-en-US-4.0-4" /><link rel="home" href="index.html" title="Performance Co-Pilot™ Programmer's Guide" /><link rel="up" href="LE94187-PARENT.html" title="3.8.4. PMAPI Context Services" /><link rel="prev" href="id5204444.html" title="3.8.4.8.  pmSetMode Function" /><link rel="next" href="id5205074.html" title="3.8.4.10.  pmGetContextHostName Function" /></head><body><p id="title"><a class="left" href="https://fedorahosted.org/publican"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="https://fedorahosted.org/publican"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="id5204444.html"><strong>Prev</strong></a></li><li class="home">pcp-programmers-guide</li><li class="next"><a accesskey="n" href="id5205074.html"><strong>Next</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="id5204926">
      ⁠</a>3.8.4.9.  <code class="command">pmReconnectContext</code> Function</h4></div></div></div><pre class="programlisting">int pmReconnectContext(int <em class="replaceable">handle</em>)
<code class="command">Python:</code>
int <em class="replaceable">status</em> = pmReconnectContext()
</pre><div class="para">
						<a id="IG31340177373" class="indexterm"></a> <a id="IG31340177374" class="indexterm"></a>As a result of network, host, or PMCD (Performance Metrics Collection Daemon) failure, an application's connection to PMCD may be established and then lost.
					</div><div class="para">
						<a id="IG31340177375" class="indexterm"></a>The function <code class="command">pmReconnectContext</code> allows an application to request that the PMAPI context identified by <em class="replaceable">handle</em> be re-established, provided the associated PMCD is accessible.
					</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
							<em class="replaceable">handle</em> may or may not be the current context.
						</div></div></div><div class="para">
						<a id="IG31340177376" class="indexterm"></a>To avoid flooding the system with reconnect requests, <code class="command">pmReconnectContext</code> attempts a reconnection only after a suitable delay from the previous attempt. This imposed restriction on the reconnect re-try time interval uses a default exponential back-off so that the initial delay is 5 seconds after the first unsuccessful attempt, then 10 seconds, then 20 seconds, then 40 seconds, and then 80 seconds thereafter. The intervals between reconnection attempts may be modified using the environment variable <code class="literal">PMCD_RECONNECT_TIMEOUT</code> and the time to wait before an attempted connection is deemed to have failed is controlled by the <code class="literal">PMCD_CONNECT_TIMEOUT</code> environment variable; see the <code class="command">PCPIntro(1)</code> man page.
					</div><div class="para">
						If the reconnection succeeds, <code class="command">pmReconnectContext</code> returns <em class="replaceable">handle</em>. Note that even in the case of a successful reconnection, <code class="command">pmReconnectContext</code> does not change the current PMAPI context.
					</div><div class="para">
						The python bindings reestablish the connection for the context.
					</div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="id5204444.html"><strong>Prev</strong>3.8.4.8.  pmSetMode Function</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="id5205074.html"><strong>Next</strong>3.8.4.10.  pmGetContextHostName Function</a></li></ul></body></html>