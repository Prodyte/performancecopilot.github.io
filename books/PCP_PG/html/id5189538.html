<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns:d="http://docbook.org/ns/docbook">2.3.2. Domains</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.2" /><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content="PCP-pcp-programmers-guide-3-en-US-4.0-4" /><link rel="home" href="index.html" title="Performance Co-Pilot™ Programmer's Guide" /><link rel="up" href="LE97285-PARENT.html" title="2.3. Domains, Metrics, and Instances" /><link rel="prev" href="LE97285-PARENT.html" title="2.3. Domains, Metrics, and Instances" /><link rel="next" href="LE98565-PARENT.html" title="2.3.3. Metrics" /></head><body><p id="title"><a class="left" href="https://fedorahosted.org/publican"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="https://fedorahosted.org/publican"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="LE97285-PARENT.html"><strong>Prev</strong></a></li><li class="home">pcp-programmers-guide</li><li class="next"><a accesskey="n" href="LE98565-PARENT.html"><strong>Next</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id5189538">
      ⁠</a>2.3.2. Domains</h3></div></div></div><div class="para">
					Each PMDA must be uniquely identified by PMCD so that requests from clients can be efficiently routed to the appropriate PMDA. The unique identifier, the PMDA's domain, is encoded within the metrics and instance domain identifiers so that they are associated with the correct PMDA, and so that they are unique, regardless of the number of PMDAs that are connected to the PMCD process.
				</div><div class="para">
					<a id="IG31340177113" class="indexterm"></a>The default domain number for each PMDA is defined in <code class="filename">${PCP_VAR_DIR}/pmns/stdpmid</code>. This file is a simple table of PMDA names and their corresponding domain number. However, a PMDA does not have to use this domain number--the file is only a guide to help avoid domain number clashes when PMDAs are installed and activated.
				</div><div class="para">
					The domain number a PMDA uses is passed to the PMDA by PMCD when the PMDA is launched. Therefore, any data structures that require the PMDA's domain number must be set up when the PMDA is initialized, rather than declared statically. The protocol for PMDA initialization provides a standard way for a PMDA to implement this run-time initialization.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="tip"><div class="admonition_header"><p><strong>Tip</strong></p></div><div class="admonition"><div class="para">
					Although uniqueness of the domain number in the <code class="filename">${PCP_PMCDCONF_PATH}</code> control file used by PMCD is all that is required for successful starting of PMCD and the associated PMDAs, the developer of a new PMDA is encouraged to add the default domain number for each new PMDA to the <code class="filename">${PCP_VAR_DIR}/pmns/stdpmid.local</code> file and then to run the <code class="filename">Make.stdpmid</code> script in <code class="filename">${PCP_VAR_DIR}/pmns</code> to recreate <code class="filename">${PCP_VAR_DIR}/pmns/stdpmid</code>; this file acts as a repository for documenting the known default domain numbers.
				</div></div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="LE97285-PARENT.html"><strong>Prev</strong>2.3. Domains, Metrics, and Instances</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="LE98565-PARENT.html"><strong>Next</strong>2.3.3. Metrics</a></li></ul></body></html>