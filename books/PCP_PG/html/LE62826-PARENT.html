<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns:d="http://docbook.org/ns/docbook">3.7.3. PMAPI Error Handling</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.2" /><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content="PCP-pcp-programmers-guide-3-en-US-4.0-4" /><link rel="home" href="index.html" title="Performance Co-Pilot™ Programmer's Guide" /><link rel="up" href="id5199203.html" title="3.7. PMAPI Programming Style and Interaction" /><link rel="prev" href="ch03s07s02.html" title="3.7.2. Python Specific Issues" /><link rel="next" href="id5199561.html" title="3.8. PMAPI Procedural Interface" /></head><body><p id="title"><a class="left" href="https://fedorahosted.org/publican"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="https://fedorahosted.org/publican"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="ch03s07s02.html"><strong>Prev</strong></a></li><li class="home">pcp-programmers-guide</li><li class="next"><a accesskey="n" href="id5199561.html"><strong>Next</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="LE62826-PARENT">
      ⁠</a>3.7.3. PMAPI Error Handling</h3></div></div></div><div class="para">
					<a id="IG31340177291" class="indexterm"></a>Where error conditions may arise, the functions that compose the PMAPI conform to a single, simple error notification scheme, as follows:
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
							The function returns an <code class="literal">int</code>. Values greater than or equal to zero indicate no error, and perhaps some positive status: for example, the number of items processed.
						</div></li><li class="listitem"><div class="para">
							Values less than zero indicate an error, as determined by a global table of error conditions and messages.
						</div></li></ul></div><div class="para">
					A PMAPI library function along the lines of <code class="command">strerror</code> is provided to translate error conditions into error messages; see the <code class="command">pmErrStr(3)</code> and <code class="command">pmErrStr_r(3)</code> man pages. The error condition is returned as the function value from a previous PMAPI call; there is no global error indicator (unlike <code class="literal">errno</code>). This is to accommodate multi-threaded performance tools.
				</div><div class="para">
					The available error codes may be displayed with the following command:
				</div><pre class="programlisting">
          <strong class="userinput"><code>pmerr -l</code></strong>
</pre><div class="para">
					Where possible, PMAPI routines are made as tolerant to failure as possible. In particular, routines which deal with compound data structures - results structures, multiple name lookups in one call and so on, will attempt to return all data that can be returned successfully, and errors embedded in the result where there were (partial) failures. In such cases a negative failure return code from the routine indicates catastrophic failure, otherwise success is returned and indicators for the partial failures are returned embedded in the results.
				</div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="ch03s07s02.html"><strong>Prev</strong>3.7.2. Python Specific Issues</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="id5199561.html"><strong>Next</strong>3.8. PMAPI Procedural Interface</a></li></ul></body></html>