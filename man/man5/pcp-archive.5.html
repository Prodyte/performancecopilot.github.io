<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <meta content='initial-scale=1' name='viewport'>
    <title>Performance Co-Pilot</title>
    <link href='/assets/css/screen.css' media='all' rel='stylesheet' type='text/css'>
    <link href='/assets/css/master.css' media='all' rel='stylesheet' type='text/css'>
    <link href='/images/pcp.ico' rel='shortcut icon' type='image/ico'>
  </head>
  <body>
    <header class='global-header'>
      <div class='row'>
        <h1 class='global-logo colspan12-6 colspan8-4 colspan6-3 colspan2-1 as-grid'>
          <a href='/index.html'>Performance Co-Pilot</a>
        </h1>
        <nav class='global-header__navigation colspan12-6 colspan8-6 colspan6-4 colspan2-1 as-grid'>
          <ul>
            <li>
              <a href='/features.html'>Features</a>
            </li>
            <li>
              <a href='/documentation.html'>Documentation</a>
            </li>
            <li>
              <a href='/download.html'>Download</a>
            </li>
            <li>
              <a href='/community.html'>Get Involved</a>
            </li>
          </ul>
        </nav>
      </div>
    </header>
    <div class='site-content'>
      <div class='how-to is-typeset'>
        <div class='row-parent'>
          <div class='row'>
            <div class='manpage'>
              ï»¿
               <h1>
                PCP-ARCHIVE
               </h1>
               Section: File Formats (5)
               <br/>
               Updated:
               <br/>
               <a href="#index">
                Index
               </a>
               <a href="/man">
                Return to Main Contents
               </a>
               <hr/>
               <p>
                <a name="lbAB">
                </a>
               </p>
               <h2>
                NAME
               </h2>
               <b>
                pcp-archive
               </b>
               - Archive Files for Performance Co-Pilot
               <p>
                <a name="lbAC">
                </a>
               </p>
               <h2>
                SYNOPSIS
               </h2>
               <p>
                <i>
                 $PCP_LOG_DIR/pmlogger/*/*.{meta,index,0}
                </i>
               </p>
               <p>
                <i>
                 $PCP_LOG_DIR/pmmgr/*/*.{meta,index,0}
                </i>
               </p>
               <p>
                <a name="lbAD">
                </a>
               </p>
               <h2>
                DESCRIPTION
               </h2>
               <p>
                PCP log archives store volumes of historical values of arbitrary
              Performance Co-Pilot metrics recorded from a single host.  Archives
              are self-contained in the sense that they contain all the important
              metadata that would be required for off-line or off-site analysis.
              The format is intended to be stable in order to allow long-term
              historical storage and processing by current tools.  (Compatibility
              in the other direction - new files, old tools - is not as fully
              assured.)
               </p>
               <p>
                Archives may be read by most PCP client tools, using the
                <i>
                 -a ARCHIVE
                </i>
                option, or dumped raw by
                <b>
                 <a href="/man/man1/pmdumplog.1.html">
                  pmdumplog
                 </a>
                </b>
                (1).
              
              Archives may be created by
                <b>
                 <a href="/man/man1/pmlogger.1.html">
                  pmlogger
                 </a>
                </b>
                (1)
              
              and bulk-import tools.
              Archives may be merged, analyzed, and subsampled using specialized
              tools such as
                <b>
                 <a href="/man/man1/pmlogsummary.1.html">
                  pmlogsummary
                 </a>
                </b>
                (1),
                <b>
                 <a href="/man/man1/pmlogreduce.1.html">
                  pmlogreduce
                 </a>
                </b>
                (1),
                <b>
                 <a href="/man/man1/pmlogrewrite.1.html">
                  pmlogrewrite
                 </a>
                </b>
                (1), and
                <b>
                 <a href="/man/man1/pmlogextract.1.html">
                  pmlogextract
                 </a>
                </b>
                (1).
              
              In addition, PCP archives may examined in sets or grouped together into PCP "archive folios",
              which are managed by the
                <b>
                 <a href="/man/man1/pmafm.1.html">
                  pmafm
                 </a>
                </b>
                (1)
              
              tool.
               </p>
               <p>
                PCP archives consist of several physical files that share a common arbitrary prefix, 
              e.g.,
                <i>
                 myarchive
                </i>
                .
               </p>
               <dl compact="">
                <dt>
                 myarchive.0, myarchive.1, ...
                </dt>
                <dd>
                 Metric values.  May grow rapidly.
                </dd>
                <dt>
                 myarchive.meta
                </dt>
                <dd>
                 Information for PMAPI functions such as
                 <i>
                  <a href="/man/man3/pmlookupdesc.3.html">
                   pmLookupDesc
                  </a>
                 </i>
                 (3) and
                 <i>
                  <a href="/man/man3/pmgetindom.3.html">
                   pmGetInDom
                  </a>
                 </i>
                 (3).
              
              May grow in fits and spurts, as logged instances and instance domains vary.
                </dd>
                <dt>
                 myarchive.index
                </dt>
                <dd>
                 A temporal index, mapping timestamps to offsets in the other files.
              Grows slowly.
                 <p>
                 </p>
                </dd>
               </dl>
               <a name="lbAE">
               </a>
               <h2>
                COMMON FEATURES
               </h2>
               <p>
                All three types of files have a similar record-based structure, a
              convention of network-byte-order (big-endian) encoding, and 32-bit
              fields for tagging/padding for those records.  Strings are stored as
              8-bit characters without assuming a specific encoding, so normally
              ASCII.  See also the
                <b>
                 __pmLog*
                </b>
                types in
                <i>
                 include/pcp/impl.h
                </i>
                .
               </p>
               <p>
                <a name="lbAF">
                </a>
               </p>
               <h3>
                RECORD FRAMING
               </h3>
               <p>
                The volume and meta files are divided into self-identifying records.
               </p>
               <center>
                <table border="">
                 <tr>
                  <td>
                   <table>
                    <tr valign="top">
                     <td align="center">
                      Offset
                     </td>
                     <td align="center">
                      Length
                     </td>
                     <td align="center">
                      Name
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td colspan="3">
                      <hr/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      0
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      N, length of record, in bytes, including this field
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      4
                     </td>
                     <td align="center">
                      N-8
                     </td>
                     <td>
                      record payload, usually starting with a 32-bit tag
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      N-4
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      N, length of record (again)
                      <br/>
                     </td>
                    </tr>
                   </table>
                  </td>
                 </tr>
                </table>
               </center>
               <p>
                <a name="lbAG">
                </a>
               </p>
               <h3>
                ARCHIVE LOG LABEL
               </h3>
               All three types of files begin with a "log label" header, which
              identifies the host name, the time interval covered, and a time zone.
               <center>
                <table border="">
                 <tr>
                  <td>
                   <table>
                    <tr valign="top">
                     <td align="center">
                      Offset
                     </td>
                     <td align="center">
                      Length
                     </td>
                     <td align="center">
                      Name
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td colspan="3">
                      <hr/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      0
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      tag, PM_LOG_MAGIC | PM_LOG_VERS02=0x50052602
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      4
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      pid of pmlogger process that wrote file
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      8
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      log start time, seconds part (past UNIX epoch)
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      12
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      log start time, microseconds part
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      16
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      current log volume number (or -1=.meta, -2=.index)
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      20
                     </td>
                     <td align="center">
                      64
                     </td>
                     <td>
                      name of collection host
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      80
                     </td>
                     <td align="center">
                      40
                     </td>
                     <td>
                      time zone string ($TZ environment variable)
                      <br/>
                     </td>
                    </tr>
                   </table>
                  </td>
                 </tr>
                </table>
               </center>
               <p>
                All fields, except for the current log volume number field, match for
              all archive-related files produced by a single run of the tool.
               </p>
               <p>
                <a name="lbAH">
                </a>
               </p>
               <h2>
                ARCHIVE VOLUME (.0, .1, ...) RECORDS
               </h2>
               <p>
                <a name="lbAI">
                </a>
               </p>
               <h3>
                pmResult
               </h3>
               <p>
                After the archive log label record, an archive volume file contains
              metric values corresponding to the
                <i>
                 pmResult
                </i>
                set of one
                <i>
                 pmFetch
                </i>
                operation, which is almost identical to the form on disk.  The record
              size may vary according to number of PMIDs being fetched, the number
              of instances for their domains.  File size is limited to 2GB, due to
              storage of 32-bit offsets within the .index file.
               </p>
               <center>
                <table border="">
                 <tr>
                  <td>
                   <table>
                    <tr valign="top">
                     <td align="center">
                      Offset
                     </td>
                     <td align="center">
                      Length
                     </td>
                     <td align="center">
                      Name
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td colspan="3">
                      <hr/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      0
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      timestamp, seconds part (past UNIX epoch)
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      4
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      timestamp, microseconds part
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      8
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      number of PMIDs with data following
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      12
                     </td>
                     <td align="center">
                      M
                     </td>
                     <td>
                      pmValueSet #0
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      12+M
                     </td>
                     <td align="center">
                      N
                     </td>
                     <td>
                      pmValueSet #1
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      12+M+N
                     </td>
                     <td align="center">
                      ...
                     </td>
                     <td>
                      ...
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      NOP
                     </td>
                     <td align="center">
                      X
                     </td>
                     <td>
                      pmValueBlock #0
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      NOP+X
                     </td>
                     <td align="center">
                      Y
                     </td>
                     <td>
                      pmValueBlock #1
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      NOP+X+Y
                     </td>
                     <td align="center">
                      ...
                     </td>
                     <td>
                      ...
                      <br/>
                     </td>
                    </tr>
                   </table>
                  </td>
                 </tr>
                </table>
               </center>
               <p>
                Records with a number-of-PMIDs equal to zero are "markers", and may
              represent interruptions, missing data, or time discontinuities in
              logging.
               </p>
               <p>
                <a name="lbAJ">
                </a>
               </p>
               <h3>
                pmValueSet
               </h3>
               <p>
                This subrecord represents the measurements for one metric.
               </p>
               <p>
               </p>
               <center>
                <table border="">
                 <tr>
                  <td>
                   <table>
                    <tr valign="top">
                     <td align="center">
                      Offset
                     </td>
                     <td align="center">
                      Length
                     </td>
                     <td align="center">
                      Name
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td colspan="3">
                      <hr/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      0
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      PMID
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      4
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      number of values
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      8
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      storage mode, PM_VAL_INSITU=0 or PM_VAL_DPTR=1
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      12
                     </td>
                     <td align="center">
                      M
                     </td>
                     <td>
                      pmValue #0
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      12+M
                     </td>
                     <td align="center">
                      N
                     </td>
                     <td>
                      pmValue #1
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      12+M+N
                     </td>
                     <td align="center">
                      ...
                     </td>
                     <td>
                      ...
                      <br/>
                     </td>
                    </tr>
                   </table>
                  </td>
                 </tr>
                </table>
               </center>
               <p>
               </p>
               <p>
                The metric-description metadata for PMIDs is found in the .meta files.
              These entries are not timestamped, so the metadata is assumed to be
              unchanging throughout the archiving session.
               </p>
               <p>
                <a name="lbAK">
                </a>
               </p>
               <h3>
                pmValue
               </h3>
               <p>
                This subrecord represents one measurement for one instance of the metric.
              It is a variant type, depending on the parent pmValueSet's value-format
              field.  This allows small numbers to be encoded compactly, but retain
              flexibility for larger or variable-length data to be stored later in the
              pmResult record.
               </p>
               <p>
               </p>
               <center>
                <table border="">
                 <tr>
                  <td>
                   <table>
                    <tr valign="top">
                     <td align="center">
                      Offset
                     </td>
                     <td align="center">
                      Length
                     </td>
                     <td align="center">
                      Name
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td colspan="3">
                      <hr/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      0
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      number in instance-domain (or PM_IN_NULL=-1)
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      4
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      value (INSITU)
                      <i>
                       or
                      </i>
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                     </td>
                     <td align="center">
                     </td>
                     <td>
                      offset in pmResult to our pmValueBlock (DPTR)
                      <br/>
                     </td>
                    </tr>
                   </table>
                  </td>
                 </tr>
                </table>
               </center>
               <p>
               </p>
               <p>
                The instance-domain metadata for PMIDs is found in the .meta files.
              Since the numeric mappings may change during the lifetime of the
              logging session, it is important to match up the timestamp of the
              measurement record with the corresponding instance-domain record.
              That is, the instance-domain corresponding to a measurement at time T
              are the records with largest timestamps T' &lt;= T.
               </p>
               <p>
                <a name="lbAL">
                </a>
               </p>
               <h3>
                pmValueBlock
               </h3>
               <p>
                Instances of this subrecord are placed at the end of the
                <i>
                 pmValueSet
                </i>
                ,
              
              after all the
                <i>
                 pmValue
                </i>
                subrecords.  Iff needed, they are padded at the end to the next-higher
              32-bit boundary.
               </p>
               <p>
               </p>
               <center>
                <table border="">
                 <tr>
                  <td>
                   <table>
                    <tr valign="top">
                     <td align="center">
                      Offset
                     </td>
                     <td align="center">
                      Length
                     </td>
                     <td align="center">
                      Name
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td colspan="3">
                      <hr/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      0
                     </td>
                     <td align="center">
                      1
                     </td>
                     <td>
                      value type (same as
                      <i>
                       pmDesc.type
                      </i>
                      )
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      1
                     </td>
                     <td align="center">
                      3
                     </td>
                     <td>
                      4 + N, the length of the subrecord
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      4
                     </td>
                     <td align="center">
                      N
                     </td>
                     <td>
                      bytes that make up the raw value
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      4+N
                     </td>
                     <td align="center">
                      0-3
                     </td>
                     <td>
                      padding (not included in the 4+N length field)
                      <br/>
                     </td>
                    </tr>
                   </table>
                  </td>
                 </tr>
                </table>
               </center>
               <p>
                Note that for
                <i>
                 PM_TYPE_STRING
                </i>
                ,
              
              the length includes an explicit NUL terminator byte.
              For
                <i>
                 PM_TYPE_EVENT
                </i>
                ,
              
              the value bytestring is further structured.
               </p>
               <p>
                <a name="lbAM">
                </a>
               </p>
               <h3>
                pmEventArray
               </h3>
               <p>
                <i>
                 (TBD)
                </i>
               </p>
               <p>
                <a name="lbAN">
                </a>
               </p>
               <h2>
                METADATA FILE (.meta) RECORDS
               </h2>
               <p>
                After the archive log label record, the metadata file contains
              interleaved metric-description and timestamped instance-domain
              descriptors.  File size is limited to 2GB, due to storage of 32-bit
              offsets within the .index file.  Unlike the archive volumes, these
              records are not forced to 32-bit alignment!  See also
                <i>
                 src/libpcp/src/logmeta.c
                </i>
                .
               </p>
               <p>
                <a name="lbAO">
                </a>
               </p>
               <h3>
                pmDesc
               </h3>
               <p>
                Instances of this record represent the metric description, giving a
              name, type, instance-domain identifier, and a set of names to each
              PMID used in the archive volume.
               </p>
               <p>
               </p>
               <center>
                <table border="">
                 <tr>
                  <td>
                   <table>
                    <tr valign="top">
                     <td align="center">
                      Offset
                     </td>
                     <td align="center">
                      Length
                     </td>
                     <td align="center">
                      Name
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td colspan="3">
                      <hr/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      0
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      tag, TYPE_DESC=1
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      4
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      pmid
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      8
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      type (PM_TYPE_*)
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      12
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      instance domain number
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      16
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      semantics of value (PM_SEM_*)
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      20
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      units: bit-packed pmUnits
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      4
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      number of alternative names for this PMID
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      28
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      N: number of bytes in this name
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      32
                     </td>
                     <td align="center">
                      N
                     </td>
                     <td>
                      bytes of the name, no NUL terminator nor padding
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      32+N
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      N2: number of bytes in next name
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      36+N
                     </td>
                     <td align="center">
                      N2
                     </td>
                     <td>
                      bytes of the name, no NUL terminator nor padding
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      ...
                     </td>
                     <td align="center">
                      ...
                     </td>
                     <td>
                      ...
                      <br/>
                     </td>
                    </tr>
                   </table>
                  </td>
                 </tr>
                </table>
               </center>
               <p>
                <a name="lbAP">
                </a>
               </p>
               <h3>
                pmLogIndom
               </h3>
               <p>
                Instances of this record represent the number-string mapping table of
              an instance domain.  The instance domain number will have already been
              mentioned in a prior
                <i>
                 pmDesc
                </i>
                record.  Since new instances may appear over a long archiving run, these
              records are timestamped, and must be searched when decoding
                <i>
                 pmResult
                </i>
                records from the main archive volumes.  Instance names may be reused
              between instance numbers, so an offset-based string table is used that
              could permit sharing.
                <br/>
               </p>
               <center>
                <table border="">
                 <tr>
                  <td>
                   <table>
                    <tr valign="top">
                     <td align="center">
                      Offset
                     </td>
                     <td align="center">
                      Length
                     </td>
                     <td align="center">
                      Name
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td colspan="3">
                      <hr/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      0
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      tag, TYPE_INDOM=2
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      4
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      timestamp, seconds part (past UNIX epoch)
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      8
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      timestamp, microseconds part
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      12
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      instance domain number
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      16
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      N: number of instances in domain, normally &gt;0
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      20
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      first instance number
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      24
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      second instance number (if appropriate)
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      ...
                     </td>
                     <td align="center">
                      ...
                     </td>
                     <td>
                      ...
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      20+4*N
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      first offset into string table (see below)
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      20+4*N+4
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      second offset into string table (etc.)
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      ...
                     </td>
                     <td align="center">
                      ...
                     </td>
                     <td>
                      ...
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      20+8*N
                     </td>
                     <td align="center">
                      M
                     </td>
                     <td>
                      base of string table, containing
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                     </td>
                     <td align="center">
                     </td>
                     <td>
                      packed, NUL-terminated instance names
                      <br/>
                     </td>
                    </tr>
                   </table>
                  </td>
                 </tr>
                </table>
               </center>
               <p>
                Records of this form
                <i>
                 replace
                </i>
                the existing instance-domain: prior
              records are not searched for resolving instance numbers in measurements
              after this timestamp.
                <br/>
                <a name="lbAQ">
                </a>
               </p>
               <h2>
                INDEX FILE (.index) RECORDS
               </h2>
               <p>
                After the archive log label record, the temporal index file contains a
              plainly concatenated, unframed group of tuples, which relate timestamps to
              32-bit seek offsets in the volume and meta files.  (This limits those
              files to 2GB in size.)  These records are fixed-size, fixed-format,
              and are
                <i>
                 not
                </i>
                enclosed in the standard length/payload/length
              wrapper: they just take up the entire remainder of the .index file.
              See also
                <i>
                 src/libpcp/src/logutil.c
                </i>
                .
               </p>
               <p>
               </p>
               <center>
                <table border="">
                 <tr>
                  <td>
                   <table>
                    <tr valign="top">
                     <td align="center">
                      Offset
                     </td>
                     <td align="center">
                      Length
                     </td>
                     <td align="center">
                      Name
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td colspan="3">
                      <hr/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      0
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      event time, seconds part (past UNIX epoch)
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      4
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      event time, microseconds part
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      8
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      archive volume number (0...N)
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      12
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      byte offset in .meta file of pmDesc or pmLogIndom
                      <br/>
                     </td>
                    </tr>
                    <tr valign="top">
                     <td align="center">
                      16
                     </td>
                     <td align="center">
                      4
                     </td>
                     <td>
                      byte offset in archive volume file of pmResult
                      <br/>
                     </td>
                    </tr>
                   </table>
                  </td>
                 </tr>
                </table>
               </center>
               <p>
                Since temporal indexes are optional, and exist only to speed up
              time-wise random access of metrics and their metadata, index records
              are emitted only intermittently.  An archive reader program should not
              presume any particular rate of data flow into the index.  However,
              common events that may trigger a new temporal-index record include
              changes in instance-domains, switching over to a new archive volume,
              just starting or stopping logging.  One reliable invariant however is
              that, for each index entry, there are to be no meta or archive-volume
              records with a timestamp after that in the index, but physically
              before the byte-offset in the index.
               </p>
               <p>
               </p>
               <p>
                <a name="lbAR">
                </a>
               </p>
               <h2>
                SEE ALSO
               </h2>
               <b>
                <a href="/man/man1/pcpintro.1.html">
                 PCPIntro
                </a>
               </b>
               (1),
               <b>
                <a href="/man/man3/pmapi.3.html">
                 PMAPI
                </a>
               </b>
               (3),
               <b>
                <a href="/man/man1/pmlogger.1.html">
                 pmlogger
                </a>
               </b>
               (1),
               <b>
                <a href="/man/man1/pmdumplog.1.html">
                 pmdumplog
                </a>
               </b>
               (1),
               <b>
                <a href="/man/man1/pmafm.1.html">
                 pmafm
                </a>
               </b>
               (1),
               <b>
                <a href="/man/man5/pcp.conf.5.html">
                 pcp.conf
                </a>
               </b>
               (5),
              
              and
               <b>
                <a href="/man/man5/pcp.env.5.html">
                 pcp.env
                </a>
               </b>
               (5).
               <p>
               </p>
               <hr/>
               <a name="index">
               </a>
               <h2>
                Index
               </h2>
               <dl>
                <dt>
                 <a href="#lbAB">
                  NAME
                 </a>
                </dt>
                <dd>
                </dd>
                <dt>
                 <a href="#lbAC">
                  SYNOPSIS
                 </a>
                </dt>
                <dd>
                </dd>
                <dt>
                 <a href="#lbAD">
                  DESCRIPTION
                 </a>
                </dt>
                <dd>
                </dd>
                <dt>
                 <a href="#lbAE">
                  COMMON FEATURES
                 </a>
                </dt>
                <dd>
                 <dl>
                  <dt>
                   <a href="#lbAF">
                    RECORD FRAMING
                   </a>
                  </dt>
                  <dd>
                  </dd>
                  <dt>
                   <a href="#lbAG">
                    ARCHIVE LOG LABEL
                   </a>
                  </dt>
                  <dd>
                  </dd>
                 </dl>
                </dd>
                <dt>
                 <a href="#lbAH">
                  ARCHIVE VOLUME (.0, .1, ...) RECORDS
                 </a>
                </dt>
                <dd>
                 <dl>
                  <dt>
                   <a href="#lbAI">
                    pmResult
                   </a>
                  </dt>
                  <dd>
                  </dd>
                  <dt>
                   <a href="#lbAJ">
                    pmValueSet
                   </a>
                  </dt>
                  <dd>
                  </dd>
                  <dt>
                   <a href="#lbAK">
                    pmValue
                   </a>
                  </dt>
                  <dd>
                  </dd>
                  <dt>
                   <a href="#lbAL">
                    pmValueBlock
                   </a>
                  </dt>
                  <dd>
                  </dd>
                  <dt>
                   <a href="#lbAM">
                    pmEventArray
                   </a>
                  </dt>
                  <dd>
                  </dd>
                 </dl>
                </dd>
                <dt>
                 <a href="#lbAN">
                  METADATA FILE (.meta) RECORDS
                 </a>
                </dt>
                <dd>
                 <dl>
                  <dt>
                   <a href="#lbAO">
                    pmDesc
                   </a>
                  </dt>
                  <dd>
                  </dd>
                  <dt>
                   <a href="#lbAP">
                    pmLogIndom
                   </a>
                  </dt>
                  <dd>
                  </dd>
                 </dl>
                </dd>
                <dt>
                 <a href="#lbAQ">
                  INDEX FILE (.index) RECORDS
                 </a>
                </dt>
                <dd>
                </dd>
                <dt>
                 <a href="#lbAR">
                  SEE ALSO
                 </a>
                </dt>
                <dd>
                </dd>
               </dl>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer class='global-footer is-typeset'>
      <div class='row-parent'>
        <div class='row'>
          <section class='row__colspaced'>
            <div class='colspan12-3 colspan8-2 colspan6-2 colspan2-2 as-grid with-gutter'>
              <div class='col__module'>
                <h4>Main Menu</h4>
                <ul>
                  <li>
                    <a href='/features.html'>Features</a>
                  </li>
                  <li>
                    <a href='/documentation.html'>Documentation</a>
                  </li>
                  <li>
                    <a class='download' href='/download.html'>Download</a>
                  </li>
                </ul>
              </div>
            </div>
            <div class='colspan12-3 colspan8-2 colspan6-2 colspan2-2 as-grid with-gutter'>
              <div class='col__module'>
                <h4>Developers</h4>
                <ul>
                  <li>
                    <a href='https://github.com/performancecopilot/pcp/issues'>Report an issue</a>
                  </li>
                  <li>
                    <a href='https://www.pcp.io/roadmap'>Roadmap</a>
                  </li>
                  <li>
                    <a href='/community.html'>Contributing</a>
                  </li>
                  <li>
                    <a href='/team.html'>Team</a>
                  </li>
                </ul>
              </div>
            </div>
            <div class='colspan12-3 colspan8-2 colspan6-2 colspan2-2 as-grid with-gutter'>
              <div class='col__module'>
                <h4>About</h4>
                <ul>
                  <li>
                    <a href='/testimonials.html'>Testimonials</a>
                  </li>
                  <li>
                    <a href='/faq.html'>FAQ</a>
                  </li>
                  <li>
                    <a href='/website.html'>Website</a>
                  </li>
                </ul>
              </div>
            </div>
            <div class='colspan12-3 colspan8-2 colspan6-2 colspan2-2 as-grid with-gutter'>
              <div class='col__module'>
                <h4>Get Social</h4>
                <ul>
                  <li>
                    <a class='twitter' href='https://twitter.com/performancepcp' rel='external'>Twitter</a>
                  </li>
                  <li>
                    <a class='github' href='https://github.com/performancecopilot' rel='external'>Github</a>
                  </li>
                </ul>
              </div>
            </div>
          </section>
        </div>
        <div class='row'>
          <div class='colspan2-2'>
            <p class='legal'>
              This website is Copyright &copy; 2000-2004 Silicon Graphics Inc, 2007-2010 Aconex, 2012-2016 Red Hat
            </p>
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>
